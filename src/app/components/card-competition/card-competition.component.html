<div
    class="w-full shadow my-5 relative bg-teal-100 rounded overflow-hidden transition-max-h duration-300 ease-in-out max-h-[1000px]">
    <span (click)="onOpenDeleteDialog(competition)"
        class="tracking-wider absolute left-1 bg-teal-400 top-1  pi pi-trash cursor-pointer px-2 text-sm rounded leading-loose mx-2 font-semibold">
    </span>
    <div class="lg:flex w-full">
        <div class="bg-teal-600 rounded-l lg:w-2/12 py-4 block h-full shadow-inner">
            <div class="text-center tracking-wide">
                <div class="text-white font-bold text-4xl">{{ competition.date.getDay() }}</div>
                <div class="text-white font-normal text-2xl">{{ competition.date.toLocaleString('en-US', { month:
                    'short' }) }}</div>
            </div>
        </div>
        <div class="w-full rounded-r  lg:w-11/12 xl:w-full px-1 bg-teal-100 py-5 lg:px-2 lg:py-2 tracking-wide">
            <div class="flex flex-row lg:justify-start justify-center">
                <div class="text-gray-700 font-medium text-sm text-center lg:text-left px-2">
                    <i class="far fa-clock"></i> {{competition.startTime}}
                </div>
                <div class="text-gray-700 font-medium text-sm text-center lg:text-left px-2">
                    <i class="far fa-clock"></i> {{competition.endTime}}
                </div>
            </div>
            <div class="font-semibold text-gray-800 text-xl text-center lg:text-left px-2">
                {{competition.code}}
            </div>

            <div class="text-gray-600 font-medium text-sm pt-1 text-center lg:text-left px-2">
                Location : {{competition.location}}, Number of Participants : {{competition.numberOfParticipants}}
            </div>
        </div>
        <div
            class="flex flex-row items-center w-full lg:w-1/3 bg-teal-100 lg:justify-end justify-center px-2 py-4 lg:px-0">
            <span [class.pi-angle-down]="!showDetails" [class.pi-angle-up]="showDetails"
                (click)="showDetails=!showDetails"
                class="tracking-wider pi cursor-pointer px-2 text-sm rounded leading-loose mx-2 font-semibold">
            </span>
        </div>
    </div>
    <div *ngIf="showDetails"
        class="rounded-b p-3 w-full flex justify-center align-middle transition-max-h duration-300 ease-in-out max-h-[1000px]">
        <div class="w-1/2 flex flex-wrap">
            <div class="bg-teal-400 rounded p-2 flex flex-col w-28 h-28 justify-center m-3 hover:bg-teal-300 cursor-pointer"
                *ngFor="let ranking of competition.ranking">
                <span class="pi text-2xl flex justify-center align-middle pi-fish"></span>
                <span class="text-center">{{ranking.member.name}}</span>
            </div>
        </div>
        <div class="w-1/2 flex flex-wrap">
            <app-member-card *ngFor="let ranking of competition.ranking" [ranking]="ranking"></app-member-card>
            <div (click)="openAddMember=!openAddMember"
                class="bg-teal-500 rounded p-2 flex flex-col w-28 h-28 justify-center m-3 hover:bg-teal-400 cursor-pointer">
                <span class="pi text-3xl flex justify-center align-middle pi-plus"></span>
            </div>
        </div>
    </div>
</div>
<app-add-member [visible]="openAddMember" [competition]="competition"></app-add-member>